
## inValidMerkleProof function
 - [OpenZepplin slides](https://github.com/OpenZeppelin/workshops/blob/master/06-nft-merkle-drop/slides/20210506%20-%20Lazy%20minting%20workshop.pdf)
 - [Using Merkle Trees for NFT Whitelists](https://medium.com/@ItsCuzzo/using-merkle-trees-for-nft-whitelists-523b58ada3f9)
- The leaf nodes of merkle tree are hashed values
- The root is root of the merkle tree
- When verify if a value is stored in the tree, run `verify` function with parameters (root, proof, hashed_search_value). The order of the parameters differs in Solidity and JavaScript.
- merkleProof: array of bytes32. It could be generated by merkeTree object.
- root 

Solidity code block
```solidity
modifier isValidMerkleProof(bytes32[] calldata merkleProof, bytes32 root) {
        require(
            MerkleProof.verify(
                merkleProof,
                root,
                keccak256(abi.encodePacked(msg.sender))
            ),
            "Address does not exist in list"
        );
        _;
    }

```

JavaScript code block
```javascript
const { MerkleTree } = require('merkletreejs');
const keccak256 = require('keccak256');
 
let allow_list = [
                   "0xAb8483F64d9C6d1EcF9b849Ae677dD3315835cb2",
                   "0x4B20993Bc481177ec7E8f571ceCaE8A9e22C02db",
                   "0x78731D3Ca6b7E34aC0F824c42a7cC18A495cabaB",
                   "0x617F2E2fD72FD9D5503197092aC168c91465E7f2",
                   "0x17F6AD8Ef982297579C203069C1DbfFE4348c372"
]
 
const leaf_nodes = allow_list.map(addr => keccak256(addr));
 
// console.log(leaf_nodes);
const merkeTree = new MerkleTree(leaf_nodes, keccak256, {sortPairs:true});
 
const root = merkeTree.getRoot();
console.log("root Merkle Tree\n", root);
 
 
console.log("whilet list Merkle Tree\n", merkeTree.toString());


for (let i =0; i < leaf_nodes.length; i++){
   const hash_addr = leaf_nodes[i];
   const proof = merkeTree.getHexProof(hash_addr);
   console.log("wallet addr:\n", allow_list[i].toString());
   console.log("proof:\n", proof);
 
   if (merkeTree.verify(proof,hash_addr,root )){
 
       console.log("This address is valid!\n", allow_list[i].toString());
  
   }
 
}

```